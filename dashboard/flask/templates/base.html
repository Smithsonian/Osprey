<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}
    {% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link
            href="{{ url_for('static', filename='css/bootstrap.min.css') }}"
            rel="stylesheet"
            />

    <!-- Datatables -->
    <link
            href="{{ url_for('static', filename='css/datatables.min.css') }}"
            rel="stylesheet"
            />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />


    <style>
        html {
          position: relative;
          min-height: 100%;
          padding-bottom:160px;
        }
        body {
          margin-bottom: 160px;
        }
        footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 160px;
        }
    </style>


    {% block head_blocks %}
    {% endblock %}

</head>
<body>

<div class="container-fluid">

    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
      <!-- Navbar content -->
        <div class="container-fluid">
            <a class="navbar-brand" href="{% block homelink %}{% endblock %}">{% block page_title %}{% endblock %}</a>
               <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
                <div class="collapse navbar-collapse" id="navbarText">

                </div>


        <div class="row">
            <div class="col">

            {% if username %}

                <div style="text-align: right; color: #FFFFFF;">
                    <small>
                        <a href="{{ url_for('login') }}" style="color: #FFFFFF;" title="All Projects">All Projects</a> |
                        <a href="{{ url_for('home') }}" style="color: #FFFFFF;" title="User Home"><i class="fa-solid fa-house"></i> My Projects ({{ username }})</a> |
                        <a href="{{ url_for('logout') }}" style="color: #FFFFFF;" title="Logout">Logout</a>
                    </small>
                </div>

            {% else %}

                <div style="text-align: right; color: #FFFFFF;">
                    <small>
                        <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal" style="color: #FFFFFF;">
                          Login
                        </a>
                         |
                        <a href="{{ url_for('login') }}" style="color: #FFFFFF;" title="All Projects">All Projects</a>
                    </small>
                </div>



            {% endif %}

            </div>

            </div>

        </div>
    </nav>

    <br>

    {% block content %}
    {% endblock %}

</div>

<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginModalLabel">Log In to the System</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form method="post" action="" class="p-4 p-md-4 border rounded-3 bg-light">

        <h4>Login:</h4>

        {{ form.hidden_tag() }}

        <p class="fw-bold">
            {% if msg %}
                {{ msg | safe }}
            {% endif %}
        </p>

        <br />

        <div class="form-floating mb-3">
            {{ form.username(class="form-control", aria_label='Username') }}
            <label for="floatingInput">Username</label>
        </div>
        <div class="form-floating mb-3">
            {{ form.password(class="form-control", aria_label='Username', type="password") }}
            <label for="floatingPassword">Password</label>
        </div>
        <br />

        <p><strong>Do not</strong> use your SI login. This feature will be added in a future version.</p>

        <button class="w-100 btn btn-lg btn-primary" type="submit", aria-label='Submit Form'>Sign In</button>

        </form>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<footer class="page-footer font-small bg-secondary text-white pt-2" style="background: #3F4249!important;">
<br>
  <!-- Footer Elements -->
  <div class="container-fluid">
      <div class="row">
        <div class="col">
            <a href="https://dpo.si.edu" target="_blank"><img src="{{ url_for('static', filename='logo-white-300.png') }}" aria-label="DPO Logo"></a>
        </div>
        <div class="col">
            <p><a href="https://www.si.edu/ocio" target="_blank" class="text-white">Office of the Chief Information Officer</a></p>
            <p><a href="https://www.si.edu/termsofuse" target="_blank" class="text-white">Terms of Use</a></p>
            <p><a href="http://www.si.edu/Privacy" target="_blank" class="text-white">Privacy</a></p>
        </div>
        <div class="col">
            <p><a href="http://si.edu/" target="_blank" class="text-white">Smithsonian Home</a></p>
            <p><a href="http://www.si.edu/Accessibility" target="_blank" class="text-white">Accessibility</a></p>
            <p><a href="http://www.si.edu/Privacy" target="_blank" class="text-white">Privacy</a></p>
        </div>

    </div>
 </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->


    <!-- JQuery -->
    <script
            type="text/javascript"
            src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"
    ></script>

    <!-- Bootstrap -->
    <script
            type="text/javascript"
            src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"
    ></script>

    <!-- Datatables -->
    <script
            type="text/javascript"
            src="{{ url_for('static', filename='js/datatables.min.js') }}"
    ></script>

    {% block javascripts %}
    {% endblock %}

</body>
</html>
